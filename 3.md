```Golang
func lengthOfLongestSubstring(s string) int {
	if s == "" {
		return 0
	}

	var start, end, maxIdx int
	charMap := make(map[int]int)

	charMap[int(s[start])] = start
	maxLen := 1
	for end < len(s) {
		if start == end {
			end++
			continue
		}

		pos, ok := charMap[int(s[end])]
		charMap[int(s[end])] = end
		//the pos must be in the current range
		if ok && pos >= start {
			start = pos + 1
			if start >= len(s) {
				break
			}
		}
		end++

		curLen := end - start
		if curLen > maxLen {
			maxLen = curLen
			maxIdx = start
		}
	}
	_ = maxIdx
	return maxLen
}
```
